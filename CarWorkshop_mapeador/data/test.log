/*C26*/SET SCHEMA PUBLIC
alter table TAVERIAS drop constraint FK1B0B4085D9BF4232
alter table TAVERIAS drop constraint FK1B0B408593648722
alter table TAVERIAS drop constraint FK1B0B4085B4078422
alter table TCARGOS drop constraint FKD19A758BD9BF4232
alter table TCARGOS drop constraint FKD19A758B7C3F1B72
alter table TCONTRATOS drop constraint FKB69E7EE317D3A4C
alter table TCONTRATOS drop constraint FKB69E7EE330179FA8
alter table TCONTRATOS drop constraint FKB69E7EE3B4078422
alter table TINTERVENCIONES drop constraint FKDAF0F08A1E415D02
alter table TINTERVENCIONES drop constraint FKDAF0F08AB4078422
alter table TMEDIOSPAGO drop constraint FK84903C2E1A299AF2
alter table TNOMINAS drop constraint FKBF370DEF2CC49BAC
alter table TSUSTITUCIONES drop constraint FKD1D2C886A603B35F
alter table TSUSTITUCIONES drop constraint FKD1D2C8869622DDA2
alter table TVEHICULOS drop constraint FK57F1E1BA67736647
alter table TVEHICULOS drop constraint FK57F1E1BA1A299AF2
drop table TAVERIAS if exists
drop table TCARGOS if exists
drop table TCATEGORIAS if exists
drop table TCLIENTES if exists
drop table TCONTRATOS if exists
drop table TFACTURAS if exists
drop table TINTERVENCIONES if exists
drop table TMECANICOS if exists
drop table TMEDIOSPAGO if exists
drop table TNOMINAS if exists
drop table TREPUESTOS if exists
drop table TSUSTITUCIONES if exists
drop table TTIPOSVEHICULO if exists
drop table TTiposContrato if exists
drop table TVEHICULOS if exists
create table TAVERIAS (id bigint generated by default as identity (start with 1), descripcion varchar(255), fecha date, importe double, status varchar(255), factura_id bigint, mecanico_id bigint, vehiculo_id bigint, primary key (id))
create table TCARGOS (importe double, factura_id bigint, medioPago_id bigint, primary key (factura_id, medioPago_id))
create table TCATEGORIAS (id bigint generated by default as identity (start with 1), nombre varchar(255), porcent_Productividad double, porcent_Trienio double not null, primary key (id))
create table TCLIENTES (id bigint generated by default as identity (start with 1), apellidos varchar(255), city varchar(255), street varchar(255), zipcode varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TCONTRATOS (id bigint generated by default as identity (start with 1), fecha_Fin date, fecha_Inicio date, salario_Base_Anual_Bruto double, status varchar(255), categoria_id bigint, mecanico_id bigint, tipoContrato_id bigint, primary key (id))
create table TFACTURAS (id bigint generated by default as identity (start with 1), fecha date, importe double, iva double, numero bigint not null, status varchar(255), primary key (id))
create table TINTERVENCIONES (minutos integer, averia_id bigint, mecanico_id bigint, primary key (averia_id, mecanico_id))
create table TMECANICOS (id bigint generated by default as identity (start with 1), apellidos varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TMEDIOSPAGO (DTYPE varchar(31) not null, id bigint generated by default as identity (start with 1), acumulado double, numero varchar(255), tipo varchar(255), validez date, codigo varchar(255), disponible double, cliente_id bigint, primary key (id))
create table TNOMINAS (id bigint generated by default as identity (start with 1), desc_Seg_Social double, fecha date, irpf double, paga_Extra double, plus double, salario_Base double, trienio double, contrato_id bigint, primary key (id))
create table TREPUESTOS (id bigint generated by default as identity (start with 1), codigo varchar(255), descripcion varchar(255), precio double, primary key (id))
create table TSUSTITUCIONES (cantidad integer not null, repuesto_id bigint, intervencion_averia_id bigint, intervencion_mecanico_id bigint not null, primary key (intervencion_averia_id, intervencion_mecanico_id, repuesto_id))
create table TTIPOSVEHICULO (id bigint generated by default as identity (start with 1), nombre varchar(255), precioHora double, primary key (id))
create table TTiposContrato (id bigint generated by default as identity (start with 1), Dias_Indemnizacion integer not null, nombre varchar(255), primary key (id))
create table TVEHICULOS (id bigint generated by default as identity (start with 1), marca varchar(255), matricula varchar(255), modelo varchar(255), NUM_AVERIAS integer, cliente_id bigint, tipo_id bigint, primary key (id))
alter table TAVERIAS add constraint FK1B0B4085D9BF4232 foreign key (factura_id) references TFACTURAS
alter table TAVERIAS add constraint FK1B0B408593648722 foreign key (vehiculo_id) references TVEHICULOS
alter table TAVERIAS add constraint FK1B0B4085B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TCARGOS add constraint FKD19A758BD9BF4232 foreign key (factura_id) references TFACTURAS
alter table TCARGOS add constraint FKD19A758B7C3F1B72 foreign key (medioPago_id) references TMEDIOSPAGO
alter table TCONTRATOS add constraint FKB69E7EE317D3A4C foreign key (tipoContrato_id) references TTiposContrato
alter table TCONTRATOS add constraint FKB69E7EE330179FA8 foreign key (categoria_id) references TCATEGORIAS
alter table TCONTRATOS add constraint FKB69E7EE3B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TINTERVENCIONES add constraint FKDAF0F08A1E415D02 foreign key (averia_id) references TAVERIAS
alter table TINTERVENCIONES add constraint FKDAF0F08AB4078422 foreign key (mecanico_id) references TMECANICOS
alter table TMEDIOSPAGO add constraint FK84903C2E1A299AF2 foreign key (cliente_id) references TCLIENTES
alter table TNOMINAS add constraint FKBF370DEF2CC49BAC foreign key (contrato_id) references TCONTRATOS
alter table TSUSTITUCIONES add constraint FKD1D2C886A603B35F foreign key (intervencion_averia_id, intervencion_mecanico_id) references TINTERVENCIONES
alter table TSUSTITUCIONES add constraint FKD1D2C8869622DDA2 foreign key (repuesto_id) references TREPUESTOS
alter table TVEHICULOS add constraint FK57F1E1BA67736647 foreign key (tipo_id) references TTIPOSVEHICULO
alter table TVEHICULOS add constraint FK57F1E1BA1A299AF2 foreign key (cliente_id) references TCLIENTES
INSERT INTO TMECANICOS VALUES(1,'cuet','53678402j','sergio')
COMMIT
INSERT INTO TMECANICOS VALUES(2,'de tal','11111111k','fulano')
COMMIT
INSERT INTO TMECANICOS VALUES(3,'de cual','33333333g','mengano')
COMMIT
/*C25*/SET SCHEMA PUBLIC
INSERT INTO TCATEGORIAS VALUES(1,'cat1',NULL,3.0E0)
COMMIT
INSERT INTO TTIPOSCONTRATO VALUES(1,8,'TEMPORAL')
COMMIT
INSERT INTO TTIPOSCONTRATO VALUES(2,20,'INDEFINIDO')
COMMIT
/*C26*/DISCONNECT
/*C27*/SET SCHEMA PUBLIC
alter table TAVERIAS drop constraint FK1B0B4085D9BF4232
alter table TAVERIAS drop constraint FK1B0B408593648722
alter table TAVERIAS drop constraint FK1B0B4085B4078422
alter table TCARGOS drop constraint FKD19A758BD9BF4232
alter table TCARGOS drop constraint FKD19A758B7C3F1B72
alter table TCONTRATOS drop constraint FKB69E7EE317D3A4C
alter table TCONTRATOS drop constraint FKB69E7EE330179FA8
alter table TCONTRATOS drop constraint FKB69E7EE3B4078422
alter table TINTERVENCIONES drop constraint FKDAF0F08A1E415D02
alter table TINTERVENCIONES drop constraint FKDAF0F08AB4078422
alter table TMEDIOSPAGO drop constraint FK84903C2E1A299AF2
alter table TNOMINAS drop constraint FKBF370DEF2CC49BAC
alter table TSUSTITUCIONES drop constraint FKD1D2C886A603B35F
alter table TSUSTITUCIONES drop constraint FKD1D2C8869622DDA2
alter table TVEHICULOS drop constraint FK57F1E1BA67736647
alter table TVEHICULOS drop constraint FK57F1E1BA1A299AF2
drop table TAVERIAS if exists
drop table TCARGOS if exists
drop table TCATEGORIAS if exists
drop table TCLIENTES if exists
drop table TCONTRATOS if exists
drop table TFACTURAS if exists
drop table TINTERVENCIONES if exists
drop table TMECANICOS if exists
drop table TMEDIOSPAGO if exists
drop table TNOMINAS if exists
drop table TREPUESTOS if exists
drop table TSUSTITUCIONES if exists
drop table TTIPOSVEHICULO if exists
drop table TTiposContrato if exists
drop table TVEHICULOS if exists
create table TAVERIAS (id bigint generated by default as identity (start with 1), descripcion varchar(255), fecha date, importe double, status varchar(255), factura_id bigint, mecanico_id bigint, vehiculo_id bigint, primary key (id))
create table TCARGOS (importe double, factura_id bigint, medioPago_id bigint, primary key (factura_id, medioPago_id))
create table TCATEGORIAS (id bigint generated by default as identity (start with 1), nombre varchar(255), porcent_Productividad double, porcent_Trienio double not null, primary key (id))
create table TCLIENTES (id bigint generated by default as identity (start with 1), apellidos varchar(255), city varchar(255), street varchar(255), zipcode varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TCONTRATOS (id bigint generated by default as identity (start with 1), fecha_Fin date, fecha_Inicio date, salario_Base_Anual_Bruto double, status varchar(255), categoria_id bigint, mecanico_id bigint, tipoContrato_id bigint, primary key (id))
create table TFACTURAS (id bigint generated by default as identity (start with 1), fecha date, importe double, iva double, numero bigint not null, status varchar(255), primary key (id))
create table TINTERVENCIONES (minutos integer, averia_id bigint, mecanico_id bigint, primary key (averia_id, mecanico_id))
create table TMECANICOS (id bigint generated by default as identity (start with 1), apellidos varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TMEDIOSPAGO (DTYPE varchar(31) not null, id bigint generated by default as identity (start with 1), acumulado double, numero varchar(255), tipo varchar(255), validez date, codigo varchar(255), disponible double, cliente_id bigint, primary key (id))
create table TNOMINAS (id bigint generated by default as identity (start with 1), desc_Seg_Social double, fecha date, irpf double, paga_Extra double, plus double, salario_Base double, trienio double, contrato_id bigint, primary key (id))
create table TREPUESTOS (id bigint generated by default as identity (start with 1), codigo varchar(255), descripcion varchar(255), precio double, primary key (id))
create table TSUSTITUCIONES (cantidad integer not null, repuesto_id bigint, intervencion_averia_id bigint, intervencion_mecanico_id bigint not null, primary key (intervencion_averia_id, intervencion_mecanico_id, repuesto_id))
create table TTIPOSVEHICULO (id bigint generated by default as identity (start with 1), nombre varchar(255), precioHora double, primary key (id))
create table TTiposContrato (id bigint generated by default as identity (start with 1), Dias_Indemnizacion integer not null, nombre varchar(255), primary key (id))
create table TVEHICULOS (id bigint generated by default as identity (start with 1), marca varchar(255), matricula varchar(255), modelo varchar(255), NUM_AVERIAS integer, cliente_id bigint, tipo_id bigint, primary key (id))
alter table TAVERIAS add constraint FK1B0B4085D9BF4232 foreign key (factura_id) references TFACTURAS
alter table TAVERIAS add constraint FK1B0B408593648722 foreign key (vehiculo_id) references TVEHICULOS
alter table TAVERIAS add constraint FK1B0B4085B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TCARGOS add constraint FKD19A758BD9BF4232 foreign key (factura_id) references TFACTURAS
alter table TCARGOS add constraint FKD19A758B7C3F1B72 foreign key (medioPago_id) references TMEDIOSPAGO
alter table TCONTRATOS add constraint FKB69E7EE317D3A4C foreign key (tipoContrato_id) references TTiposContrato
alter table TCONTRATOS add constraint FKB69E7EE330179FA8 foreign key (categoria_id) references TCATEGORIAS
alter table TCONTRATOS add constraint FKB69E7EE3B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TINTERVENCIONES add constraint FKDAF0F08A1E415D02 foreign key (averia_id) references TAVERIAS
alter table TINTERVENCIONES add constraint FKDAF0F08AB4078422 foreign key (mecanico_id) references TMECANICOS
alter table TMEDIOSPAGO add constraint FK84903C2E1A299AF2 foreign key (cliente_id) references TCLIENTES
alter table TNOMINAS add constraint FKBF370DEF2CC49BAC foreign key (contrato_id) references TCONTRATOS
alter table TSUSTITUCIONES add constraint FKD1D2C886A603B35F foreign key (intervencion_averia_id, intervencion_mecanico_id) references TINTERVENCIONES
alter table TSUSTITUCIONES add constraint FKD1D2C8869622DDA2 foreign key (repuesto_id) references TREPUESTOS
alter table TVEHICULOS add constraint FK57F1E1BA67736647 foreign key (tipo_id) references TTIPOSVEHICULO
alter table TVEHICULOS add constraint FK57F1E1BA1A299AF2 foreign key (cliente_id) references TCLIENTES
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
alter table TAVERIAS drop constraint FK1B0B4085D9BF4232
alter table TAVERIAS drop constraint FK1B0B408593648722
alter table TAVERIAS drop constraint FK1B0B4085B4078422
alter table TCARGOS drop constraint FKD19A758BD9BF4232
alter table TCARGOS drop constraint FKD19A758B7C3F1B72
alter table TCONTRATOS drop constraint FKB69E7EE317D3A4C
alter table TCONTRATOS drop constraint FKB69E7EE330179FA8
alter table TCONTRATOS drop constraint FKB69E7EE3B4078422
alter table TINTERVENCIONES drop constraint FKDAF0F08A1E415D02
alter table TINTERVENCIONES drop constraint FKDAF0F08AB4078422
alter table TMEDIOSPAGO drop constraint FK84903C2E1A299AF2
alter table TNOMINAS drop constraint FKBF370DEF2CC49BAC
alter table TSUSTITUCIONES drop constraint FKD1D2C886A603B35F
alter table TSUSTITUCIONES drop constraint FKD1D2C8869622DDA2
alter table TVEHICULOS drop constraint FK57F1E1BA67736647
alter table TVEHICULOS drop constraint FK57F1E1BA1A299AF2
drop table TAVERIAS if exists
drop table TCARGOS if exists
drop table TCATEGORIAS if exists
drop table TCLIENTES if exists
drop table TCONTRATOS if exists
drop table TFACTURAS if exists
drop table TINTERVENCIONES if exists
drop table TMECANICOS if exists
drop table TMEDIOSPAGO if exists
drop table TNOMINAS if exists
drop table TREPUESTOS if exists
drop table TSUSTITUCIONES if exists
drop table TTIPOSVEHICULO if exists
drop table TTiposContrato if exists
drop table TVEHICULOS if exists
create table TAVERIAS (id bigint generated by default as identity (start with 1), descripcion varchar(255), fecha date, importe double, status varchar(255), factura_id bigint, mecanico_id bigint, vehiculo_id bigint, primary key (id))
create table TCARGOS (importe double, factura_id bigint, medioPago_id bigint, primary key (factura_id, medioPago_id))
create table TCATEGORIAS (id bigint generated by default as identity (start with 1), nombre varchar(255), porcent_Productividad double, porcent_Trienio double not null, primary key (id))
create table TCLIENTES (id bigint generated by default as identity (start with 1), apellidos varchar(255), city varchar(255), street varchar(255), zipcode varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TCONTRATOS (id bigint generated by default as identity (start with 1), fecha_Fin date, fecha_Inicio date, salario_Base_Anual_Bruto double, status varchar(255), categoria_id bigint, mecanico_id bigint, tipoContrato_id bigint, primary key (id))
create table TFACTURAS (id bigint generated by default as identity (start with 1), fecha date, importe double, iva double, numero bigint not null, status varchar(255), primary key (id))
create table TINTERVENCIONES (minutos integer, averia_id bigint, mecanico_id bigint, primary key (averia_id, mecanico_id))
create table TMECANICOS (id bigint generated by default as identity (start with 1), apellidos varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TMEDIOSPAGO (DTYPE varchar(31) not null, id bigint generated by default as identity (start with 1), acumulado double, numero varchar(255), tipo varchar(255), validez date, codigo varchar(255), disponible double, cliente_id bigint, primary key (id))
create table TNOMINAS (id bigint generated by default as identity (start with 1), desc_Seg_Social double, fecha date, irpf double, paga_Extra double, plus double, salario_Base double, trienio double, contrato_id bigint, primary key (id))
create table TREPUESTOS (id bigint generated by default as identity (start with 1), codigo varchar(255), descripcion varchar(255), precio double, primary key (id))
create table TSUSTITUCIONES (cantidad integer not null, repuesto_id bigint, intervencion_averia_id bigint, intervencion_mecanico_id bigint not null, primary key (intervencion_averia_id, intervencion_mecanico_id, repuesto_id))
create table TTIPOSVEHICULO (id bigint generated by default as identity (start with 1), nombre varchar(255), precioHora double, primary key (id))
create table TTiposContrato (id bigint generated by default as identity (start with 1), Dias_Indemnizacion integer not null, nombre varchar(255), primary key (id))
create table TVEHICULOS (id bigint generated by default as identity (start with 1), marca varchar(255), matricula varchar(255), modelo varchar(255), NUM_AVERIAS integer, cliente_id bigint, tipo_id bigint, primary key (id))
alter table TAVERIAS add constraint FK1B0B4085D9BF4232 foreign key (factura_id) references TFACTURAS
alter table TAVERIAS add constraint FK1B0B408593648722 foreign key (vehiculo_id) references TVEHICULOS
alter table TAVERIAS add constraint FK1B0B4085B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TCARGOS add constraint FKD19A758BD9BF4232 foreign key (factura_id) references TFACTURAS
alter table TCARGOS add constraint FKD19A758B7C3F1B72 foreign key (medioPago_id) references TMEDIOSPAGO
alter table TCONTRATOS add constraint FKB69E7EE317D3A4C foreign key (tipoContrato_id) references TTiposContrato
alter table TCONTRATOS add constraint FKB69E7EE330179FA8 foreign key (categoria_id) references TCATEGORIAS
alter table TCONTRATOS add constraint FKB69E7EE3B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TINTERVENCIONES add constraint FKDAF0F08A1E415D02 foreign key (averia_id) references TAVERIAS
alter table TINTERVENCIONES add constraint FKDAF0F08AB4078422 foreign key (mecanico_id) references TMECANICOS
alter table TMEDIOSPAGO add constraint FK84903C2E1A299AF2 foreign key (cliente_id) references TCLIENTES
alter table TNOMINAS add constraint FKBF370DEF2CC49BAC foreign key (contrato_id) references TCONTRATOS
alter table TSUSTITUCIONES add constraint FKD1D2C886A603B35F foreign key (intervencion_averia_id, intervencion_mecanico_id) references TINTERVENCIONES
alter table TSUSTITUCIONES add constraint FKD1D2C8869622DDA2 foreign key (repuesto_id) references TREPUESTOS
alter table TVEHICULOS add constraint FK57F1E1BA67736647 foreign key (tipo_id) references TTIPOSVEHICULO
alter table TVEHICULOS add constraint FK57F1E1BA1A299AF2 foreign key (cliente_id) references TCLIENTES
INSERT INTO TMECANICOS VALUES(1,'manola','manolo','manolo')
COMMIT
/*C25*/INSERT INTO TCATEGORIAS VALUES(1,'cat1',NULL,5.0E0)
COMMIT
INSERT INTO TTIPOSCONTRATO VALUES(1,20,'TEMPORAL')
COMMIT
/*C28*/DISCONNECT
/*C29*/SET SCHEMA PUBLIC
alter table TAVERIAS drop constraint FK1B0B4085D9BF4232
alter table TAVERIAS drop constraint FK1B0B408593648722
alter table TAVERIAS drop constraint FK1B0B4085B4078422
alter table TCARGOS drop constraint FKD19A758BD9BF4232
alter table TCARGOS drop constraint FKD19A758B7C3F1B72
alter table TCONTRATOS drop constraint FKB69E7EE317D3A4C
alter table TCONTRATOS drop constraint FKB69E7EE330179FA8
alter table TCONTRATOS drop constraint FKB69E7EE3B4078422
alter table TINTERVENCIONES drop constraint FKDAF0F08A1E415D02
alter table TINTERVENCIONES drop constraint FKDAF0F08AB4078422
alter table TMEDIOSPAGO drop constraint FK84903C2E1A299AF2
alter table TNOMINAS drop constraint FKBF370DEF2CC49BAC
alter table TSUSTITUCIONES drop constraint FKD1D2C886A603B35F
alter table TSUSTITUCIONES drop constraint FKD1D2C8869622DDA2
alter table TVEHICULOS drop constraint FK57F1E1BA67736647
alter table TVEHICULOS drop constraint FK57F1E1BA1A299AF2
drop table TAVERIAS if exists
drop table TCARGOS if exists
drop table TCATEGORIAS if exists
drop table TCLIENTES if exists
drop table TCONTRATOS if exists
drop table TFACTURAS if exists
drop table TINTERVENCIONES if exists
drop table TMECANICOS if exists
drop table TMEDIOSPAGO if exists
drop table TNOMINAS if exists
drop table TREPUESTOS if exists
drop table TSUSTITUCIONES if exists
drop table TTIPOSVEHICULO if exists
drop table TTiposContrato if exists
drop table TVEHICULOS if exists
create table TAVERIAS (id bigint generated by default as identity (start with 1), descripcion varchar(255), fecha date, importe double, status varchar(255), factura_id bigint, mecanico_id bigint, vehiculo_id bigint, primary key (id))
create table TCARGOS (importe double, factura_id bigint, medioPago_id bigint, primary key (factura_id, medioPago_id))
create table TCATEGORIAS (id bigint generated by default as identity (start with 1), nombre varchar(255), porcent_Productividad double, porcent_Trienio double not null, primary key (id))
create table TCLIENTES (id bigint generated by default as identity (start with 1), apellidos varchar(255), city varchar(255), street varchar(255), zipcode varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TCONTRATOS (id bigint generated by default as identity (start with 1), fecha_Fin date, fecha_Inicio date, salario_Base_Anual_Bruto double, status varchar(255), categoria_id bigint, mecanico_id bigint, tipoContrato_id bigint, primary key (id))
create table TFACTURAS (id bigint generated by default as identity (start with 1), fecha date, importe double, iva double, numero bigint not null, status varchar(255), primary key (id))
create table TINTERVENCIONES (minutos integer, averia_id bigint, mecanico_id bigint, primary key (averia_id, mecanico_id))
create table TMECANICOS (id bigint generated by default as identity (start with 1), apellidos varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TMEDIOSPAGO (DTYPE varchar(31) not null, id bigint generated by default as identity (start with 1), acumulado double, numero varchar(255), tipo varchar(255), validez date, codigo varchar(255), disponible double, cliente_id bigint, primary key (id))
create table TNOMINAS (id bigint generated by default as identity (start with 1), desc_Seg_Social double, fecha date, irpf double, paga_Extra double, plus double, salario_Base double, trienio double, contrato_id bigint, primary key (id))
create table TREPUESTOS (id bigint generated by default as identity (start with 1), codigo varchar(255), descripcion varchar(255), precio double, primary key (id))
create table TSUSTITUCIONES (cantidad integer not null, repuesto_id bigint, intervencion_averia_id bigint, intervencion_mecanico_id bigint not null, primary key (intervencion_averia_id, intervencion_mecanico_id, repuesto_id))
create table TTIPOSVEHICULO (id bigint generated by default as identity (start with 1), nombre varchar(255), precioHora double, primary key (id))
create table TTiposContrato (id bigint generated by default as identity (start with 1), Dias_Indemnizacion integer not null, nombre varchar(255), primary key (id))
create table TVEHICULOS (id bigint generated by default as identity (start with 1), marca varchar(255), matricula varchar(255), modelo varchar(255), NUM_AVERIAS integer, cliente_id bigint, tipo_id bigint, primary key (id))
alter table TAVERIAS add constraint FK1B0B4085D9BF4232 foreign key (factura_id) references TFACTURAS
alter table TAVERIAS add constraint FK1B0B408593648722 foreign key (vehiculo_id) references TVEHICULOS
alter table TAVERIAS add constraint FK1B0B4085B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TCARGOS add constraint FKD19A758BD9BF4232 foreign key (factura_id) references TFACTURAS
alter table TCARGOS add constraint FKD19A758B7C3F1B72 foreign key (medioPago_id) references TMEDIOSPAGO
alter table TCONTRATOS add constraint FKB69E7EE317D3A4C foreign key (tipoContrato_id) references TTiposContrato
alter table TCONTRATOS add constraint FKB69E7EE330179FA8 foreign key (categoria_id) references TCATEGORIAS
alter table TCONTRATOS add constraint FKB69E7EE3B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TINTERVENCIONES add constraint FKDAF0F08A1E415D02 foreign key (averia_id) references TAVERIAS
alter table TINTERVENCIONES add constraint FKDAF0F08AB4078422 foreign key (mecanico_id) references TMECANICOS
alter table TMEDIOSPAGO add constraint FK84903C2E1A299AF2 foreign key (cliente_id) references TCLIENTES
alter table TNOMINAS add constraint FKBF370DEF2CC49BAC foreign key (contrato_id) references TCONTRATOS
alter table TSUSTITUCIONES add constraint FKD1D2C886A603B35F foreign key (intervencion_averia_id, intervencion_mecanico_id) references TINTERVENCIONES
alter table TSUSTITUCIONES add constraint FKD1D2C8869622DDA2 foreign key (repuesto_id) references TREPUESTOS
alter table TVEHICULOS add constraint FK57F1E1BA67736647 foreign key (tipo_id) references TTIPOSVEHICULO
alter table TVEHICULOS add constraint FK57F1E1BA1A299AF2 foreign key (cliente_id) references TCLIENTES
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
alter table TAVERIAS drop constraint FK1B0B4085D9BF4232
alter table TAVERIAS drop constraint FK1B0B408593648722
alter table TAVERIAS drop constraint FK1B0B4085B4078422
alter table TCARGOS drop constraint FKD19A758BD9BF4232
alter table TCARGOS drop constraint FKD19A758B7C3F1B72
alter table TCONTRATOS drop constraint FKB69E7EE317D3A4C
alter table TCONTRATOS drop constraint FKB69E7EE330179FA8
alter table TCONTRATOS drop constraint FKB69E7EE3B4078422
alter table TINTERVENCIONES drop constraint FKDAF0F08A1E415D02
alter table TINTERVENCIONES drop constraint FKDAF0F08AB4078422
alter table TMEDIOSPAGO drop constraint FK84903C2E1A299AF2
alter table TNOMINAS drop constraint FKBF370DEF2CC49BAC
alter table TSUSTITUCIONES drop constraint FKD1D2C886A603B35F
alter table TSUSTITUCIONES drop constraint FKD1D2C8869622DDA2
alter table TVEHICULOS drop constraint FK57F1E1BA67736647
alter table TVEHICULOS drop constraint FK57F1E1BA1A299AF2
drop table TAVERIAS if exists
drop table TCARGOS if exists
drop table TCATEGORIAS if exists
drop table TCLIENTES if exists
drop table TCONTRATOS if exists
drop table TFACTURAS if exists
drop table TINTERVENCIONES if exists
drop table TMECANICOS if exists
drop table TMEDIOSPAGO if exists
drop table TNOMINAS if exists
drop table TREPUESTOS if exists
drop table TSUSTITUCIONES if exists
drop table TTIPOSVEHICULO if exists
drop table TTiposContrato if exists
drop table TVEHICULOS if exists
create table TAVERIAS (id bigint generated by default as identity (start with 1), descripcion varchar(255), fecha date, importe double, status varchar(255), factura_id bigint, mecanico_id bigint, vehiculo_id bigint, primary key (id))
create table TCARGOS (importe double, factura_id bigint, medioPago_id bigint, primary key (factura_id, medioPago_id))
create table TCATEGORIAS (id bigint generated by default as identity (start with 1), nombre varchar(255), porcent_Productividad double, porcent_Trienio double not null, primary key (id))
create table TCLIENTES (id bigint generated by default as identity (start with 1), apellidos varchar(255), city varchar(255), street varchar(255), zipcode varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TCONTRATOS (id bigint generated by default as identity (start with 1), fecha_Fin date, fecha_Inicio date, salario_Base_Anual_Bruto double, status varchar(255), categoria_id bigint, mecanico_id bigint, tipoContrato_id bigint, primary key (id))
create table TFACTURAS (id bigint generated by default as identity (start with 1), fecha date, importe double, iva double, numero bigint not null, status varchar(255), primary key (id))
create table TINTERVENCIONES (minutos integer, averia_id bigint, mecanico_id bigint, primary key (averia_id, mecanico_id))
create table TMECANICOS (id bigint generated by default as identity (start with 1), apellidos varchar(255), dni varchar(255), nombre varchar(255), primary key (id))
create table TMEDIOSPAGO (DTYPE varchar(31) not null, id bigint generated by default as identity (start with 1), acumulado double, numero varchar(255), tipo varchar(255), validez date, codigo varchar(255), disponible double, cliente_id bigint, primary key (id))
create table TNOMINAS (id bigint generated by default as identity (start with 1), desc_Seg_Social double, fecha date, irpf double, paga_Extra double, plus double, salario_Base double, trienio double, contrato_id bigint, primary key (id))
create table TREPUESTOS (id bigint generated by default as identity (start with 1), codigo varchar(255), descripcion varchar(255), precio double, primary key (id))
create table TSUSTITUCIONES (cantidad integer not null, repuesto_id bigint, intervencion_averia_id bigint, intervencion_mecanico_id bigint not null, primary key (intervencion_averia_id, intervencion_mecanico_id, repuesto_id))
create table TTIPOSVEHICULO (id bigint generated by default as identity (start with 1), nombre varchar(255), precioHora double, primary key (id))
create table TTiposContrato (id bigint generated by default as identity (start with 1), Dias_Indemnizacion integer not null, nombre varchar(255), primary key (id))
create table TVEHICULOS (id bigint generated by default as identity (start with 1), marca varchar(255), matricula varchar(255), modelo varchar(255), NUM_AVERIAS integer, cliente_id bigint, tipo_id bigint, primary key (id))
alter table TAVERIAS add constraint FK1B0B4085D9BF4232 foreign key (factura_id) references TFACTURAS
alter table TAVERIAS add constraint FK1B0B408593648722 foreign key (vehiculo_id) references TVEHICULOS
alter table TAVERIAS add constraint FK1B0B4085B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TCARGOS add constraint FKD19A758BD9BF4232 foreign key (factura_id) references TFACTURAS
alter table TCARGOS add constraint FKD19A758B7C3F1B72 foreign key (medioPago_id) references TMEDIOSPAGO
alter table TCONTRATOS add constraint FKB69E7EE317D3A4C foreign key (tipoContrato_id) references TTiposContrato
alter table TCONTRATOS add constraint FKB69E7EE330179FA8 foreign key (categoria_id) references TCATEGORIAS
alter table TCONTRATOS add constraint FKB69E7EE3B4078422 foreign key (mecanico_id) references TMECANICOS
alter table TINTERVENCIONES add constraint FKDAF0F08A1E415D02 foreign key (averia_id) references TAVERIAS
alter table TINTERVENCIONES add constraint FKDAF0F08AB4078422 foreign key (mecanico_id) references TMECANICOS
alter table TMEDIOSPAGO add constraint FK84903C2E1A299AF2 foreign key (cliente_id) references TCLIENTES
alter table TNOMINAS add constraint FKBF370DEF2CC49BAC foreign key (contrato_id) references TCONTRATOS
alter table TSUSTITUCIONES add constraint FKD1D2C886A603B35F foreign key (intervencion_averia_id, intervencion_mecanico_id) references TINTERVENCIONES
alter table TSUSTITUCIONES add constraint FKD1D2C8869622DDA2 foreign key (repuesto_id) references TREPUESTOS
alter table TVEHICULOS add constraint FK57F1E1BA67736647 foreign key (tipo_id) references TTIPOSVEHICULO
alter table TVEHICULOS add constraint FK57F1E1BA1A299AF2 foreign key (cliente_id) references TCLIENTES
INSERT INTO TMECANICOS VALUES(1,'Garcia','11111111J','Manolete')
COMMIT
DISCONNECT
/*C25*/INSERT INTO TTIPOSCONTRATO VALUES(1,30,'INDEFINIDO')
COMMIT
INSERT INTO TTIPOSCONTRATO VALUES(2,60,'OBRA')
COMMIT
INSERT INTO TTIPOSCONTRATO VALUES(3,10,'temporal')
COMMIT
INSERT INTO TCATEGORIAS VALUES(1,'cat1',10.0E0,7.0E0)
COMMIT
INSERT INTO TCATEGORIAS VALUES(2,'cat2',5.0E0,10.0E0)
COMMIT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
INSERT INTO TMECANICOS VALUES(2,'Perez','44444444k','Alfonso')
COMMIT
INSERT INTO TCONTRATOS VALUES(2,NULL,'2014-08-01',NULL,'ACTIVO',1,1,1)
COMMIT
DISCONNECT
/*C25*/DELETE FROM TCONTRATOS WHERE ID=2
COMMIT
/*C34*/SET SCHEMA PUBLIC
INSERT INTO TCONTRATOS VALUES(3,NULL,'2014-08-01',14000.0E0,'ACTIVO',1,1,1)
COMMIT
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
INSERT INTO TCONTRATOS VALUES(4,NULL,'2014-08-01',10500.0E0,'ACTIVO',2,2,2)
COMMIT
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
INSERT INTO TCONTRATOS VALUES(5,NULL,'2014-11-30',1.0E0,'ACTIVO',1,1,1)
COMMIT
/*C25*/DELETE FROM TCONTRATOS WHERE ID=3
DELETE FROM TCONTRATOS WHERE ID=4
DELETE FROM TCONTRATOS WHERE ID=5
COMMIT
/*C37*/INSERT INTO TCONTRATOS VALUES(6,NULL,'2014-11-30',1.0E0,'ACTIVO',1,1,1)
COMMIT
DISCONNECT
/*C38*/SET SCHEMA PUBLIC
INSERT INTO TCONTRATOS VALUES(7,NULL,'2014-11-30',12000.0E0,'ACTIVO',1,1,1)
COMMIT
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
INSERT INTO TCONTRATOS VALUES(8,NULL,'2014-11-30',14000.0E0,'ACTIVO',1,1,1)
DELETE FROM TCONTRATOS WHERE ID=6
INSERT INTO TCONTRATOS VALUES(6,NULL,'2014-11-30',1.0E0,'EXTINTO',1,1,1)
DELETE FROM TCONTRATOS WHERE ID=7
INSERT INTO TCONTRATOS VALUES(7,NULL,'2014-11-30',12000.0E0,'EXTINTO',1,1,1)
COMMIT
INSERT INTO TCONTRATOS VALUES(9,'2015-12-30','2014-11-30',9000.0E0,'ACTIVO',1,2,3)
COMMIT
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/DISCONNECT
/*C42*/SET SCHEMA PUBLIC
DISCONNECT
/*C43*/SET SCHEMA PUBLIC
DISCONNECT
/*C44*/SET SCHEMA PUBLIC
DISCONNECT
/*C45*/SET SCHEMA PUBLIC
DISCONNECT
/*C47*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C46*/SET SCHEMA PUBLIC
DISCONNECT
